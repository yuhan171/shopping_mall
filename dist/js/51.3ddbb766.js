"use strict";(self["webpackChunkshopping_mall"]=self["webpackChunkshopping_mall"]||[]).push([[51],{51:function(t,s,e){e.r(s),e.d(s,{default:function(){return f}});var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"order"},[s("van-nav-bar",{attrs:{title:"我的订单","left-arrow":""},on:{"click-left":function(s){return t.$router.go(-1)}}}),s("van-tabs",{model:{value:t.active,callback:function(s){t.active=s},expression:"active"}},[s("van-tab",{attrs:{title:"全部"}}),s("van-tab",{attrs:{title:"待支付"}}),s("van-tab",{attrs:{title:"待发货"}}),s("van-tab",{attrs:{title:"待收货"}}),s("van-tab",{attrs:{title:"待评价"}})],1),t._l(t.list,function(t){return s("OrderListItem",{key:t.order_id,attrs:{item:t}})})],2)},i=[],r=(e(8111),e(7588),function(){var t=this,s=t._self._c;return t.item.order_id?s("div",{staticClass:"order-list-item"},[s("div",{staticClass:"tit"},[s("div",{staticClass:"time"},[t._v(t._s(t.item.create_time))]),s("div",{staticClass:"status"},[s("span",[t._v(t._s(t.item.state_text))])])]),s("div",{staticClass:"list"},t._l(t.item.goods,function(e,a){return s("div",{key:a,staticClass:"list-item"},[s("div",{staticClass:"goods-img"},[s("img",{attrs:{src:e.goods_image,alt:""}})]),s("div",{staticClass:"goods-content text-ellipsis-2"},[t._v(" "+t._s(e.goods_name)+" ")]),s("div",{staticClass:"goods-trade"},[s("p",[t._v("¥ "+t._s(e.total_pay_price))]),s("p",[t._v("x "+t._s(e.total_num))])])])}),0),s("div",{staticClass:"total"},[t._v(" 共 "+t._s(t.item.total_num)+" 件商品，总金额 ¥"+t._s(t.item.total_price)+" ")]),s("div",{staticClass:"actions"},[10===t.item.order_status?s("div",[10===t.item.pay_status?s("span",[t._v("立刻付款")]):10===t.item.delivery_status?s("span",[t._v("申请取消")]):20===t.item.delivery_status||30===t.item.delivery_status?s("span",[t._v("确认收货")]):t._e()]):t._e(),30===t.item.order_status?s("div",[s("span",[t._v("评价")])]):t._e()])]):t._e()}),n=[],o={props:{item:{type:Object,default:()=>({})}}},l=o,d=e(1656),c=(0,d.A)(l,r,n,!1,null,null,null),u=c.exports,_=e(4180),v={name:"MyorderIndex",components:{OrderListItem:u},data(){return{active:this.$route.query.dataType||"all",page:1,list:[]}},methods:{async getOrderList(){const{data:{list:t}}=await(0,_.Nj)(this.active,this.page);t.data.forEach(t=>{t.total_num=0,t.goods.forEach(s=>{t.total_num+=s.total_num})}),this.list=t.data}},watch:{active:{immediate:!0,handler(){this.getOrderList()}}}},m=v,p=(0,d.A)(m,a,i,!1,null,"4b28df7b",null),f=p.exports},4180:function(t,s,e){e.d(s,{Fs:function(){return i},Nj:function(){return n},Z7:function(){return r}});var a=e(5720);const i=(t,s)=>a.A.get("/checkout/order",{params:{mode:t,delivery:0,couponId:0,isUsePoints:0,...s}}),r=(t,s)=>a.A.post("/checkout/submit",{mode:t,delivery:10,couponId:0,payType:10,isUsePoints:0,...s}),n=(t,s)=>a.A.get("/order/list",{params:{dataType:t,page:s}})}}]);
//# sourceMappingURL=51.3ddbb766.js.map